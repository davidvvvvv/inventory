(this.webpackJsonpinventory=this.webpackJsonpinventory||[]).push([[0],{288:function(e,t,a){e.exports=a(424)},293:function(e,t,a){},424:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),i=(a(293),a(25)),o=a(80),s=a.n(o);a(294),a(296);s.a.apps.length||s.a.initializeApp({apiKey:"AIzaSyCT72ac9bDKa7miAtozx-erO2CLmdFnXEM",authDomain:"mytesting-c9489.firebaseapp.com",databaseURL:"https://mytesting-c9489.firebaseio.com",projectId:"mytesting-c9489",storageBucket:"mytesting-c9489.appspot.com",messagingSenderId:"303860734763",appId:"1:303860734763:web:9784fd9f8178f2c25d836e"});var m=s.a.auth(),u=(s.a.firestore(),new s.a.auth.GoogleAuthProvider);u.setCustomParameters({hd:"plkylmf.edu.hk"});var d=()=>{var e=new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),a=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(t,"/").concat(a,"/").concat(n)},b=Object(n.createContext)(),p=e=>{var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(()=>{console.log("loginContext_useEffect");var e=m.onAuthStateChanged(e=>{e?(console.log("The user is logged in"),c(e)):(console.log("The user is not logged in"),c(null))});return()=>{e(),console.log("loginContext_useEffect_unsubscribe")}},[]),l.a.createElement("div",null,l.a.createElement(b.Provider,{value:[r,c]},e.children))},g=a(79),h=a(505),E=a(506),f=a(253),j=a(508),v=a(504),O=a(476),y=a(498),w=a(502),x=()=>{var e=Object(n.useContext)(b),t=Object(i.a)(e,2),a=t[0],r=(t[1],Object(n.useState)(!1)),c=Object(i.a)(r,2),o=c[0],s=c[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),x=p[0],k=p[1],C=Object(n.useState)("hidden"),D=Object(i.a)(C,2),I=D[0],S=D[1],T=Object(n.useState)(""),N=Object(i.a)(T,2),M=N[0],F=N[1],z=Object(n.useState)(""),R=Object(i.a)(z,2),A=R[0],B=R[1],P=Object(n.useState)(""),W=Object(i.a)(P,2),_=W[0],H=W[1];Object(n.useEffect)(()=>{console.log("loginForm_useEffect"),a&&Object(g.b)("/switch")},[a]);var L=e=>{var t=e.currentTarget,a=t.name,n=t.value;switch(a){case"email":F(n);break;case"password":B(n);break;default:console.log("loginForm can't found input type")}};return l.a.createElement(h.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(h.a.Column,{style:{maxWidth:450}},l.a.createElement(E.a,{as:"h2",color:"teal",textAlign:"center"},l.a.createElement(f.a,{src:"/logo.png"})," \u4f59\u674e\u6155\u82ac\u7c21\u6613\u79df\u501f\u7cfb\u7d71"),l.a.createElement(j.a,null,l.a.createElement(v.a,Object.assign({loading:x},{color:"facebook",fluid:!0,size:"large",onClick:()=>{k(!0),S("hidden");try{m.signInWithPopup(u)}catch(_){H(_.message),k(!1),S("visible")}}}),"\u5b78\u6821\u5e33\u6236 - Google \u767b\u5165")),l.a.createElement(O.a,{horizontal:!0},"\u6216"),l.a.createElement(y.a,{size:"large"},l.a.createElement(j.a,null,l.a.createElement(y.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"\u96fb\u5b50\u90f5\u4ef6",name:"email",onChange:L}),l.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"\u5bc6\u78bc",name:"password",type:"password",onChange:L}),l.a.createElement(v.a,Object.assign({color:"teal"},{loading:o},{fluid:!0,size:"large",onClick:()=>{if(""!==M&&""!==A){s(!0);try{((e,t)=>{m.signInWithEmailAndPassword(e,t)})(M,A),S("hidden")}catch(_){H(_.message),s(!1),S("visible")}}else H("\u8acb\u8f38\u5165\u9069\u7576\u8cc7\u6599"),S("visible")}}),"\u81e8\u6642\u5e33\u6236\u767b\u5165"," "))),l.a.createElement(w.a,{negative:!0,style:{visibility:I}},_)))},k=a(94),C=a.n(k),D=a(130),I=a(38);var S=a(5),T=a(477),N=a(15),M=a(485),F=a(486),z=a(488),R=a(484),A=a(487),B=a(479),P=a(481),W=a(503),_=a(483),H=a(482),L=a(243),G=a.n(L),q=a(244),J=a.n(q);function K(e,t,a,n,l){return{name:e,calories:t,fat:a,carbs:n,protein:l}}K("Cupcake",305,3.7,67,4.3),K("Donut",452,25,51,4.9),K("Eclair",262,16,24,6),K("Frozen yoghurt",159,6,24,4),K("Gingerbread",356,16,49,3.9);var Y=Object(T.a)(e=>({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(N.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}})),U=e=>{var t=Y(),a=e.numSelected,n=e.selected,r=e.removeItem,c=e.deleteSelected;return l.a.createElement(B.a,{className:Object(S.a)(t.root,{[t.highlight]:a>0})},a>0?l.a.createElement(P.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):l.a.createElement(P.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",align:"center",color:"primary"},"\u79df\u501f\u7269\u54c1\u8868"),a>0?l.a.createElement(H.a,{title:"Delete"},l.a.createElement(_.a,{"aria-label":"delete",onClick:()=>{[...n.keys()].forEach(e=>{r(e),c(e)})}},l.a.createElement(G.a,null))):l.a.createElement(H.a,{title:"Filter list"},l.a.createElement(_.a,{"aria-label":"filter list"},l.a.createElement(J.a,null))))},X=Object(T.a)(e=>({container:{display:"flex",flexDirection:"column",height:"100%"},table:{},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},root:{display:"flex",flexDirection:"column",height:"100%"}}));function Q(e){var t=e.itemsMap,a=e.removeItem,n=[...t.values()],r=X(),c=l.a.useState(!1),o=Object(i.a)(c,2),s=o[0],m=(o[1],l.a.useState(new Map)),u=Object(i.a)(m,2),d=u[0],b=u[1],p=e=>{d.delete(e)&&b(new Map(d))};return l.a.createElement("div",{className:r.root},l.a.createElement(U,{numSelected:d.size,selected:d,removeItem:a,deleteSelected:p}),l.a.createElement(R.a,{className:r.container},l.a.createElement(M.a,{className:r.table,"aria-labelledby":"tableTitle",size:s?"small":"medium","aria-label":"enhanced table"},l.a.createElement(F.a,null,n.map((e,t)=>{var a,n=(a=e.refno,d.has(a)),r="enhanced-table-checkbox-".concat(t);return l.a.createElement(A.a,{hover:!0,onClick:t=>((e,t)=>{d.has(t)?p(t):b(new Map(d.set(t)))})(0,e.refno),role:"checkbox","aria-checked":n,tabIndex:-1,key:e.refno+e.type,selected:n},l.a.createElement(z.a,{padding:"checkbox"},l.a.createElement(W.a,{checked:n,inputProps:{"aria-labelledby":r}})),l.a.createElement(z.a,{component:"th",id:r,scope:"row",padding:"none"},e.refno),l.a.createElement(z.a,{align:"right"},e.type))})))))}var V=a(251),Z=a(490),$=a(496),ee=a(501),te=a(246),ae=a.n(te),ne=a(492),le=a(510),re=a(489),ce=a(33),ie=a(497),oe=a(252),se=Object(T.a)(e=>({root:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),height:"92vh",minHeight:"100%",display:"flex",flexDirection:"column"},submitButton:{marginTop:e.spacing(2),marginBottom:e.spacing(2),width:"100%"}})),me=()=>{d();var e=Object(n.useContext)(b),t=Object(i.a)(e,2),a=t[0],r=(t[1],Object(n.useState)("")),c=Object(i.a)(r,2),o=(c[0],c[1],Object(n.useState)([])),s=Object(i.a)(o,2),m=s[0],u=(s[1],Object(n.useRef)(m),l.a.memo(Q)),p=Object(n.useState)(new Map),h=Object(i.a)(p,2),E=h[0],f=h[1],j=Object(n.useState)(""),v=Object(i.a)(j,2),O=v[0],y=v[1],w=Object(n.useState)(!1),x=Object(i.a)(w,2),k=x[0],S=x[1],T=Object(n.useCallback)(e=>{y(e),S(!0)},[]),N=e=>{var t=e.split(","),a={refno:t[0],type:t[1],desc:"",dbRefNo:""};f(new Map(E.set(t[0],a))),console.log(E)};null==a&&Object(g.b)("/"),Object(n.useEffect)(()=>{console.log("inputForm_useEffect"),((e,t)=>{if("NDEFReader"in window){var a=new NDEFReader;try{a.scan();var n=new TextDecoder;a.onreading=e=>{t(n.decode(e.message.records[0].data))}}catch(l){e(l.message)}}else e("\ud83d\ude2b \u932f\u8aa4 : Web NFC \u672a\u80fd\u652f\u63f4")})(T,N)},[]);var M=se(),F=new Date(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())),z={borrowerName:"",location:"",itemType:"",itemInput:"",selectBorrowDate:F,predictReturnDate:F},R=Object(n.useState)(z),A=Object(i.a)(R,2),B=A[0],W=A[1],H=(B.borrowerName,B.location,B.itemType),L=B.itemInput,G=B.selectBorrowDate,q=B.predictReturnDate,J=Object(n.useState)([]),K=Object(i.a)(J,2),Y=K[0],U=K[1],X=Object(n.useState)([]),te=Object(i.a)(X,2),me=te[0],ue=te[1],de=Object(oe.b)("."),be=de.get,pe=(de.post,de.response),ge=(de.loading,de.error,Object(n.useState)("/data.json")),he=Object(i.a)(ge,2),Ee=he[0];he[1];function fe(){return(fe=Object(D.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(Ee);case 2:t=e.sent,pe.ok&&(U(t.location),ue(t.type));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)(()=>{!function(){fe.apply(this,arguments)}()},[Ee]);return l.a.createElement("div",{className:M.root},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement(le.a,{open:k,autoHideDuration:3e3,onClose:()=>{S(!1)}},l.a.createElement(re.a,{style:{backgroundColor:"orange",fontSize:"1rem"},message:O})),l.a.createElement(P.a,{variant:"h6",gutterBottom:!0,color:"primary"},"\u79df\u501f\u767b\u8a18\u9801"),l.a.createElement(Z.a,{container:!0,spacing:2},l.a.createElement(Z.a,{item:!0,xs:6},l.a.createElement($.a,{onChange:(e,t)=>{W(Object(I.a)(Object(I.a)({},B),{},{borrowerName:t}))},label:"\u79df\u501f\u8005\u59d3\u540d",id:"borrower",margin:"none",fullWidth:!0,required:!0})),l.a.createElement(Z.a,{item:!0,xs:6},l.a.createElement(ee.a,{id:"location",freeSolo:!0,options:Y.map(e=>e),onInputChange:e=>{W(Object(I.a)(Object(I.a)({},B),{},{location:e.target.value}))},renderInput:e=>l.a.createElement($.a,Object.assign({},e,{label:"\u5730\u9ede"}))})),l.a.createElement(ce.a,{utils:V.a},l.a.createElement(Z.a,{item:!0,xs:6},l.a.createElement(ie.a,{autoOk:!0,variant:"dialog",label:"\u79df\u501f\u65e5\u671f",fullWidth:!0,disableFuture:!0,format:"dd/MM/yyyy",value:G,onChange:e=>W(Object(I.a)(Object(I.a)({},B),{},{selectBorrowDate:e}))})),l.a.createElement(Z.a,{item:!0,xs:6},l.a.createElement(ie.a,{autoOk:!0,variant:"dialog",label:"\u9810\u671f\u6b78\u9084\u65e5\u671f",format:"dd/MM/yyyy",fullWidth:!0,disablePast:!0,value:q,onChange:e=>W(Object(I.a)(Object(I.a)({},B),{},{predictReturnDate:e}))}))),l.a.createElement(Z.a,{item:!0,xs:5},l.a.createElement($.a,{onChange:e=>{W(Object(I.a)(Object(I.a)({},B),{},{itemInput:e.target.value}))},label:"\u79df\u501f\u7269\u4ef6\u7de8\u865f",id:"rentItem",margin:"none",fullWidth:!0,required:!0})),l.a.createElement(Z.a,{item:!0,xs:5},l.a.createElement(ee.a,{id:"itemType",freeSolo:!0,options:me,onInputChange:e=>{W(Object(I.a)(Object(I.a)({},B),{},{itemType:e.target.innerText||e.target.value}))},renderInput:e=>l.a.createElement($.a,Object.assign({},e,{label:"\u79df\u501f\u7a2e\u985e",margin:"none"}))})),l.a.createElement(Z.a,{item:!0,xs:2},l.a.createElement(Z.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},l.a.createElement(_.a,{onClick:()=>{L&&H?N("".concat(L,",").concat(H)):T("\u8acb\u8f38\u5165 \u79df\u501f\u7269\u4ef6\u7de8\u865f \u53ca \u79df\u501f\u7a2e\u985e")},color:"primary","aria-label":"plus"},l.a.createElement(ae.a,{fontSize:"large"})))))),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:"1"}},l.a.createElement(u,{itemsMap:E,removeItem:e=>{E.delete(e)&&f(new Map(E))}})),l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement(ne.a,{variant:"contained",color:"primary",className:M.submitButton,type:"submit"},"\u78ba\u5b9a")))},ue=()=>l.a.createElement(ne.a,{color:"primary"},"Hello World"),de=a(254),be=a(493),pe=a(500),ge=a(494),he=a(499),Ee=a(247),fe=a.n(Ee);function je(e){var t=e.children,a=e.value,n=e.index,r=Object(de.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&l.a.createElement(he.a,null,t))}function ve(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Oe=Object(T.a)(e=>({root:{height:"8vh",backgroundColor:e.palette.background.paper},toolbar:{justifyContent:"space-between"}}));function ye(){var e=Oe(),t=l.a.useState(0),a=Object(i.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:e.root},l.a.createElement(be.a,{position:"static"},l.a.createElement(B.a,{className:e.toolbar},l.a.createElement(pe.a,{value:n,onChange:(e,t)=>{r(t)},"aria-label":"Tabs"},l.a.createElement(ge.a,Object.assign({label:"\u79df\u501f\u767b\u8a18\u9801"},ve(0))),l.a.createElement(ge.a,Object.assign({label:"Item Two"},ve(1))),l.a.createElement(ge.a,Object.assign({label:"Item Three"},ve(2)))),l.a.createElement(Z.a,{"aria-label":"account"},l.a.createElement(fe.a,null)))),l.a.createElement(je,{value:n,index:0},l.a.createElement(me,null)),l.a.createElement(je,{value:n,index:1},"Item Two"),l.a.createElement(je,{value:n,index:2},"Item Three"))}var we=e=>{var t=Object(n.useContext)(b),a=Object(i.a)(t,2);a[0],a[1];return l.a.createElement(g.a,null,l.a.createElement(x,{path:"/"}),l.a.createElement(ye,{path:"/switch"}),l.a.createElement(me,{path:"/input"}),l.a.createElement(ue,{path:"/return"}))},xe=a(248),ke=a(495),Ce=()=>l.a.createElement(ke.a,null,l.a.createElement(p,null,l.a.createElement(xe.a,null,l.a.createElement("meta",{charSet:"utf-8"}),l.a.createElement("title",null,"Inventy"),l.a.createElement("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"}),l.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),l.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})),l.a.createElement(we,null))),De=document.createElement("link");De.rel="stylesheet",De.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(De);var Ie=document.getElementById("root");c.a.render(l.a.createElement(Ce,null),Ie)}},[[288,1,2]]]);
//# sourceMappingURL=main.e3557306.chunk.js.map